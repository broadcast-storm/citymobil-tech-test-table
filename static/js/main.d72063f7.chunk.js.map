{"version":3,"sources":["Components/Header/styles.module.scss","Components/Sidebar/styles.module.scss","Components/Table/CarsList/styles.module.scss","Components/Header/Header.jsx","Components/Sidebar/Sidebar.jsx","Icons/close.svg","Components/Table/SearchCarInput/SearchCarInput.jsx","Components/Table/SortByAlpha.js","Icons/arrow.svg","Components/Table/CarsList/CarsList.jsx","Components/Table/Table.jsx","Components/Footer/Footer.jsx","App.js","index.js","Components/Table/styles.module.scss","Components/Table/SearchCarInput/styles.module.scss","Components/Footer/styles.module.scss","App.module.scss"],"names":["module","exports","Header","className","styles","header","header__text","Sidebar","sidebar","sidebar__text","SearchCarInput","onChange","useState","searchText","setSearchText","classNames","type","id","placeholder","value","event","target","length","close","onClick","src","CloseSvg","alt","SortByAlpha","array","reverse","sort","a","b","aName","mark","toLowerCase","model","bName","CarsList","tariffsList","carsInfo","selectCar","isAlphabetically","setIsAlphabetically","selectedCarId","setSelectedCarId","useEffect","generateUniqueKey","item","index","result","Object","keys","tariffs","forEach","key","year","table","head","head__name","textLeft","pointer","prev","ArrowSvg","alphaPic","reversed","map","filter","includes","ind","infoTr","yearsSet","Set","add","years","selectItem","infoTd","tariff","Table","setCarsInfo","setTariffsList","isError","setIsError","isInfoLoading","setIsInfoLoading","selectedCarText","setSelectedCarText","axios","get","data","cars","tariffs_list","searchCar","tableBack","Footer","footer","footer__text","footer__link","href","rel","App","app","main","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d72063f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__3prOI\",\"header__text\":\"styles_header__text__1__t_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"styles_sidebar__CxBfZ\",\"sidebar__text\":\"styles_sidebar__text__122YK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"styles_table__2Z6X4\",\"head\":\"styles_head__3VwMO\",\"head__name\":\"styles_head__name__3KAi9\",\"alphaPic\":\"styles_alphaPic__IqzbK\",\"reversed\":\"styles_reversed__2WQvr\",\"infoTr\":\"styles_infoTr__2l94R\",\"infoTd\":\"styles_infoTd__1dc-f\",\"infoTr-clicked\":\"styles_infoTr-clicked__7at_e\",\"textLeft\":\"styles_textLeft__1U86V\",\"pointer\":\"styles_pointer__3SJKu\"};","import styles from './styles.module.scss';\n\nconst Header = () => (\n  <header className={styles.header}>\n    <span className={styles.header__text}>header</span>\n  </header>\n);\n\nexport default Header;\n","import styles from './styles.module.scss';\n\nconst Sidebar = () => (\n  <div className={styles.sidebar}>\n    <span className={styles.sidebar__text}>sidebar</span>\n  </div>\n);\n\nexport default Sidebar;\n","export default __webpack_public_path__ + \"static/media/close.17a94979.svg\";","import classNames from 'classnames';\nimport { useState } from 'react';\nimport CloseSvg from '../../../Icons/close.svg';\nimport styles from './styles.module.scss';\n\nconst SearchCarInput = ({ className, onChange }) => {\n  const [searchText, setSearchText] = useState('');\n  const findCars = () => {\n    onChange(searchText);\n  };\n  const updateText = (event) => {\n    setSearchText(event.target.value);\n  };\n  const clearText = () => {\n    setSearchText('');\n    onChange('');\n  };\n  return (\n    <div className={classNames(styles['search-container'], className)}>\n      <div className={styles['search-container__input-back']}>\n        <input\n          type=\"text\"\n          className={styles['search-container__input']}\n          id=\"car-search\"\n          placeholder=\"Поиск\"\n          value={searchText}\n          onChange={updateText}\n        />\n        {searchText.length > 0 ? (\n          <button className={styles.close} type=\"button\" onClick={clearText}>\n            <img src={CloseSvg} alt=\"закрыть\" />\n          </button>\n        ) : null}\n      </div>\n\n      <button\n        className={styles['search-container__button']}\n        type=\"button\"\n        onClick={findCars}\n      >\n        Найти\n      </button>\n    </div>\n  );\n};\n\nexport default SearchCarInput;\n","export default function SortByAlpha(array, reverse = false) {\n  return array.sort((a, b) => {\n    const aName = `${a.mark.toLowerCase()}${a.model.toLowerCase()}`;\n    const bName = `${b.mark.toLowerCase()}${b.model.toLowerCase()}`;\n    if (aName < bName) return !reverse ? 1 : -1;\n    if (aName > bName) return !reverse ? -1 : 1;\n    return 0;\n  });\n}\n","export default __webpack_public_path__ + \"static/media/arrow.c0991123.svg\";","import classNames from 'classnames';\nimport { useEffect, useState } from 'react';\nimport styles from './styles.module.scss';\nimport SortByAlpha from '../SortByAlpha';\nimport ArrowSvg from '../../../Icons/arrow.svg';\n\nconst CarsList = ({\n  className,\n  tariffsList,\n  carsInfo,\n  searchText,\n  selectCar,\n}) => {\n  const [isAlphabetically, setIsAlphabetically] = useState(true);\n  const [selectedCarId, setSelectedCarId] = useState(null);\n\n  useEffect(() => {\n    selectCar(null);\n    setSelectedCarId(null);\n  }, [searchText]);\n\n  const changeAlphabetically = () => {\n    selectCar(null);\n    setSelectedCarId(null);\n    setIsAlphabetically((prev) => !prev);\n  };\n  const generateUniqueKey = (item, index) => {\n    let result = '';\n    Object.keys(item.tariffs).forEach((key) => {\n      result += ` ${key} ${item.tariffs[key].year}`;\n    });\n    return `${index} ${item.mark} ${item.model} ${result}`;\n  };\n\n  const selectItem = (item, index) => {\n    if (index === selectedCarId) {\n      selectCar(null);\n      setSelectedCarId(null);\n    } else {\n      const yearsSet = new Set();\n      Object.keys(item.tariffs).forEach((key) => {\n        yearsSet.add(item.tariffs[key].year);\n      });\n      let years = '';\n      yearsSet.forEach((value) => {\n        years += `${value} `;\n      });\n      selectCar(\n        `Выбран автомобиль ${item.mark} ${item.model} ${years} ${\n          years.length > 5 ? 'годов' : 'года'\n        } выпуска`,\n      );\n      setSelectedCarId(index);\n    }\n  };\n\n  return (\n    <table className={classNames(styles.table, className)}>\n      <tbody>\n        <tr className={styles.head}>\n          <th\n            className={classNames(\n              styles.head__name,\n              styles.textLeft,\n              styles.pointer,\n            )}\n            onClick={changeAlphabetically}\n          >\n            Марка и модель{' '}\n            <img\n              src={ArrowSvg}\n              alt=\"порядок по алфавиту\"\n              className={classNames(\n                styles.alphaPic,\n                !isAlphabetically ? styles.reversed : null,\n              )}\n            />\n          </th>\n          {tariffsList.map((item) => (\n            <th className={styles.head__name} key={item}>\n              {item}\n            </th>\n          ))}\n        </tr>\n        {SortByAlpha(carsInfo, isAlphabetically)\n          .filter((item) =>\n            `${item.mark.toLowerCase()} ${item.model.toLowerCase()}`.includes(\n              searchText.toLowerCase(),\n            ),\n          )\n          .map((item, ind) => (\n            <tr\n              key={generateUniqueKey(item, ind)}\n              className={classNames(\n                styles.infoTr,\n                selectedCarId === ind ? styles['infoTr-clicked'] : null,\n              )}\n              onClick={() => selectItem(item, ind)}\n            >\n              <td\n                className={classNames(styles.infoTd, styles.textLeft)}\n              >{`${item.mark} ${item.model}`}</td>\n              {tariffsList.map((tariff) => (\n                <td\n                  className={styles.infoTd}\n                  key={`${tariff} ${generateUniqueKey(item, ind)}`}\n                >\n                  {tariff in item.tariffs ? item.tariffs[tariff].year : '—'}\n                </td>\n              ))}\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default CarsList;\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from './styles.module.scss';\nimport SearchCarInput from './SearchCarInput/SearchCarInput';\nimport CarsList from './CarsList/CarsList';\n\nconst Table = () => {\n  const [carsInfo, setCarsInfo] = useState(null);\n  const [tariffsList, setTariffsList] = useState(null);\n  const [isError, setIsError] = useState(false);\n  const [searchText, setSearchText] = useState('');\n  const [isInfoLoading, setIsInfoLoading] = useState(true);\n  const [selectedCarText, setSelectedCarText] = useState(null);\n\n  useEffect(async () => {\n    try {\n      const result = await axios.get('https://city-mobil.ru/api/cars');\n      setCarsInfo(result.data.cars);\n      setTariffsList(result.data.tariffs_list);\n      setIsInfoLoading(false);\n    } catch (e) {\n      setIsError(true);\n      setIsInfoLoading(false);\n    }\n  }, []);\n  return (\n    <div className={styles['table-container']}>\n      {/* eslint-disable-next-line no-nested-ternary */}\n      {isInfoLoading ? (\n        <span>Загрузка...</span>\n      ) : isError ? (\n        <span>Произошла ошибка, перезагрузите страницу</span>\n      ) : (\n        <>\n          <SearchCarInput\n            className={styles['input-container']}\n            searchCar={setSearchText}\n            onChange={setSearchText}\n          />\n          <div className={styles.tableBack}>\n            <CarsList\n              className={styles.table}\n              selectCar={setSelectedCarText}\n              carsInfo={carsInfo}\n              tariffsList={tariffsList}\n              searchText={searchText}\n            />\n          </div>\n          {selectedCarText ? (\n            <div className={styles['selected-car-back']}>\n              <div className={styles['selected-car']}>\n                <span className={styles['selected-car__text']}>\n                  {selectedCarText}\n                </span>\n              </div>\n            </div>\n          ) : null}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Table;\n","import styles from './styles.module.scss';\n\nconst Footer = () => (\n  <footer className={styles.footer}>\n    <span className={styles.footer__text}>footer</span>\n    <span className={styles.footer__link}>\n      app by{' '}\n      <a\n        href=\"https://tlgg.ru/NikitaPozdnyakov\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        Nikita Pozdnyakov\n      </a>\n    </span>\n  </footer>\n);\n\nexport default Footer;\n","import Header from './Components/Header/Header';\nimport Sidebar from './Components/Sidebar/Sidebar';\nimport Table from './Components/Table/Table';\nimport Footer from './Components/Footer/Footer';\n\nimport styles from './App.module.scss';\n\nfunction App() {\n  return (\n    <div className={styles.app}>\n      <Header />\n      <main className={styles['main-container']}>\n        <div className={styles.main}>\n          <Sidebar />\n          <Table />\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table-container\":\"styles_table-container__PNfe3\",\"tableBack\":\"styles_tableBack__2Oo9o\",\"input-container\":\"styles_input-container__1_sWw\",\"table\":\"styles_table__3l6vk\",\"selected-car-back\":\"styles_selected-car-back__2NUTb\",\"selected-car\":\"styles_selected-car__1lJsc\",\"selected-car__text\":\"styles_selected-car__text__1mhrt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-container\":\"styles_search-container__caC8F\",\"search-container__input-back\":\"styles_search-container__input-back__1o1jf\",\"search-container__input\":\"styles_search-container__input__tNwJ0\",\"close\":\"styles_close__1OzLT\",\"search-container__button\":\"styles_search-container__button__3VMdn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"styles_footer__1tOoU\",\"footer__text\":\"styles_footer__text__2xjWV\",\"footer__link\":\"styles_footer__link__1LnYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Rwnp\",\"main-container\":\"App_main-container__3ia7k\",\"main\":\"App_main__2CxHf\"};"],"sourceRoot":""}